(()=>{"use strict";function e(e){return new class{el=void 0;constructor(e){this.el=e}traversals={first:"firstElementChild",next:"nextElementSibling",parent:"parentElement"};nodes(){return this.traversals={first:"firstChild",next:"nextSibling",parent:"parentNode"},this}first(){return this.teleportTo(this.el[this.traversals.first])}next(){return this.teleportTo(this.teleportBack(this.el[this.traversals.next]))}before(e){return this.el[this.traversals.parent].insertBefore(e,this.el),e}replace(e){return this.el[this.traversals.parent].replaceChild(e,this.el),e}append(e){return this.el.appendChild(e),e}teleportTo(e){return e&&e._x_teleport?e._x_teleport:e}teleportBack(e){return e&&e._x_teleportBack?e._x_teleportBack:e}}(e)}var t=()=>{},n=()=>{};async function o(o,i,a){let l,s,c,u,f,d,p,h,w,m,x;function v(e){if(x)return n((e||"").replace("\n","\\n"),l,s),new Promise((e=>t=()=>e()))}async function y(t,n){if(function(e,t){return e.nodeType!=t.nodeType||e.nodeName!=t.nodeName||_(e)!=_(t)}(t,n)){let o=function(t,n){if(r(p,t))return;let o=n.cloneNode(!0);if(r(w,o))return;e(t).replace(o),h(t),m(o)}(t,n);return await v("Swap elements"),o}let o=!1;if(!r(f,t,n,(()=>o=!0))){if(window.Alpine&&function(e,t,n){if(1!==e.nodeType)return;e._x_dataStack&&window.Alpine.clone(e,t)}(t,n),3===(i=n).nodeType||8===i.nodeType)return await async function(e,t){let n=t.nodeValue;e.nodeValue!==n&&(e.nodeValue=n,await v("Change text node to: "+n))}(t,n),void d(t,n);var i;o||await async function(e,t){if(e._x_isShown&&!t._x_isShown)return;if(!e._x_isShown&&t._x_isShown)return;let n=Array.from(e.attributes),o=Array.from(t.attributes);for(let o=n.length-1;o>=0;o--){let r=n[o].name;t.hasAttribute(r)||(e.removeAttribute(r),await v("Remove attribute"))}for(let t=o.length-1;t>=0;t--){let n=o[t].name,r=o[t].value;e.getAttribute(n)!==r&&(e.setAttribute(n,r),await v(`Set [${n}] attribute to: "${r}"`))}}(t,n),d(t,n),await async function(t,n){let o=t.childNodes,i=(S(n.childNodes),S(o)),a=e(n).nodes().first(),l=e(t).nodes().first(),s={};for(;a;){let n=_(a),o=_(l);if(!l){if(!n||!s[n]){let n=k(a,t)||{};await v("Add element: "+(n.outerHTML||n.nodeValue)),a=e(a).nodes().next();continue}{let o=s[n];e(t).append(o),l=o,await v("Add element (from key)")}}if(u){let t=e(a).next(),n=!1;for(;!n&&t;)l.isEqualNode(t)&&(n=!0,l=g(a,l),o=_(l),await v("Move element (lookahead)")),t=e(t).next()}if(n!==o){if(!n&&o){s[o]=l,l=g(a,l),s[o].remove(),l=e(l).nodes().next(),a=e(a).nodes().next(),await v('No "to" key');continue}if(n&&!o&&i[n]&&(l=e(l).replace(i[n]),await v('No "from" key')),n&&o){s[o]=l;let t=i[n];if(!t){s[o]=l,l=g(a,l),s[o].remove(),l=e(l).next(),a=e(a).next(),await v("Swap elements with keys");continue}l=e(l).replace(t),await v('Move "from" key')}}let r=l&&e(l).nodes().next();await y(l,a),a=a&&e(a).nodes().next(),l=r}let c=[];for(;l;)r(p,l)||c.push(l),l=e(l).nodes().next();for(;c.length;){let e=c.shift();e.remove(),await v("remove el"),h(e)}}(t,n)}}function _(e){return e&&1===e.nodeType&&c(e)}function S(e){let t={};return e.forEach((e=>{let n=_(e);n&&(t[n]=e)})),t}function k(t,n){if(!r(w,t)){let o=t.cloneNode(!0);return e(n).append(o),m(o),o}return null}function g(t,n){if(!r(w,t)){let o=t.cloneNode(!0);return e(n).before(o),m(o),o}return n}return function(e={}){let t=()=>{};f=e.updating||t,d=e.updated||t,p=e.removing||t,h=e.removed||t,w=e.adding||t,m=e.added||t,c=e.key||(e=>e.getAttribute("key")),u=e.lookahead||!1,x=e.debug||!1}(a),l=o,s=function(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstElementChild}(i),window.Alpine&&window.Alpine.closestDataStack&&!o._x_dataStack&&(s._x_dataStack=window.Alpine.closestDataStack(o),s._x_dataStack&&window.Alpine.clone(o,s)),await v(),await y(o,s),l=void 0,s=void 0,o}function r(e,...t){let n=!1;return e(...t,(()=>n=!0)),n}o.step=()=>t(),o.log=e=>{n=e};var i=function(e){e.morph=o};document.addEventListener("alpine:init",(function(e){window.Alpine.plugin(i),window.Alpine.magic("morph",(function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.closest("[data-morph-component-name]"),r=o.dataset.morphComponentName;n.onStart&&"function"==typeof n.onStart&&n.onStart();var i={};"string"==typeof t?i[t]=t:Object.assign(i,t);var a=new FormData;Object.keys(i).forEach((function(e){var t=i[e];t instanceof FileList&&Array.from(t).forEach((function(t){a.append("".concat(e,"[]"),t)})),a.append(e,t)})),fetch("".concat(BB_MORPH.base_url).concat(r,"/"),{method:"POST",credentials:"same-origin",headers:{"X-Morph-Request":!0,"X-Morph-Hash":window.BB_MORPH.hash},body:a}).then((function(e){if(n.onResponse&&"function"==typeof n.onResponse&&n.onResponse(e),!e.ok)throw new Error(e.statusText);return e.text()})).then((function(e){window.Alpine.morph(o,e),n.onSuccess&&"function"==typeof n.onSuccess&&n.onSuccess(e)})).catch((function(e){n.onError&&"function"==typeof n.onError&&n.onError(e)})).finally((function(){n.onFinish&&"function"==typeof n.onFinish&&n.onFinish()}))}}))}))})();