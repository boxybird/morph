(()=>{"use strict";function e(e){return new class{el=void 0;constructor(e){this.el=e}traversals={first:"firstElementChild",next:"nextElementSibling",parent:"parentElement"};nodes(){return this.traversals={first:"firstChild",next:"nextSibling",parent:"parentNode"},this}first(){return this.teleportTo(this.el[this.traversals.first])}next(){return this.teleportTo(this.teleportBack(this.el[this.traversals.next]))}before(e){return this.el[this.traversals.parent].insertBefore(e,this.el),e}replace(e){return this.el[this.traversals.parent].replaceChild(e,this.el),e}append(e){return this.el.appendChild(e),e}teleportTo(e){return e&&e._x_teleport?e._x_teleport:e}teleportBack(e){return e&&e._x_teleportBack?e._x_teleportBack:e}}(e)}var t=()=>{},n=()=>{};async function o(o,i,a){let l,c,s,u,f,p,d,h,m,w,y;function b(e){if(y)return n((e||"").replace("\n","\\n"),l,c),new Promise((e=>t=()=>e()))}async function v(t,n){if(function(e,t){return e.nodeType!=t.nodeType||e.nodeName!=t.nodeName||x(e)!=x(t)}(t,n)){let o=function(t,n){if(r(d,t))return;let o=n.cloneNode(!0);if(r(m,o))return;e(t).replace(o),h(t),w(o)}(t,n);return await b("Swap elements"),o}let o=!1;if(!r(f,t,n,(()=>o=!0))){if(window.Alpine&&function(e,t,n){if(1!==e.nodeType)return;e._x_dataStack&&window.Alpine.clone(e,t)}(t,n),3===(i=n).nodeType||8===i.nodeType)return await async function(e,t){let n=t.nodeValue;e.nodeValue!==n&&(e.nodeValue=n,await b("Change text node to: "+n))}(t,n),void p(t,n);var i;o||await async function(e,t){if(e._x_isShown&&!t._x_isShown)return;if(!e._x_isShown&&t._x_isShown)return;let n=Array.from(e.attributes),o=Array.from(t.attributes);for(let o=n.length-1;o>=0;o--){let r=n[o].name;t.hasAttribute(r)||(e.removeAttribute(r),await b("Remove attribute"))}for(let t=o.length-1;t>=0;t--){let n=o[t].name,r=o[t].value;e.getAttribute(n)!==r&&(e.setAttribute(n,r),await b(`Set [${n}] attribute to: "${r}"`))}}(t,n),p(t,n),await async function(t,n){let o=t.childNodes,i=(S(n.childNodes),S(o)),a=e(n).nodes().first(),l=e(t).nodes().first(),c={};for(;a;){let n=x(a),o=x(l);if(!l){if(!n||!c[n]){let n=g(a,t)||{};await b("Add element: "+(n.outerHTML||n.nodeValue)),a=e(a).nodes().next();continue}{let o=c[n];e(t).append(o),l=o,await b("Add element (from key)")}}if(u){let t=e(a).next(),n=!1;for(;!n&&t;)l.isEqualNode(t)&&(n=!0,l=_(a,l),o=x(l),await b("Move element (lookahead)")),t=e(t).next()}if(n!==o){if(!n&&o){c[o]=l,l=_(a,l),c[o].remove(),l=e(l).nodes().next(),a=e(a).nodes().next(),await b('No "to" key');continue}if(n&&!o&&i[n]&&(l=e(l).replace(i[n]),await b('No "from" key')),n&&o){c[o]=l;let t=i[n];if(!t){c[o]=l,l=_(a,l),c[o].remove(),l=e(l).next(),a=e(a).next(),await b("Swap elements with keys");continue}l=e(l).replace(t),await b('Move "from" key')}}let r=l&&e(l).nodes().next();await v(l,a),a=a&&e(a).nodes().next(),l=r}let s=[];for(;l;)r(d,l)||s.push(l),l=e(l).nodes().next();for(;s.length;){let e=s.shift();e.remove(),await b("remove el"),h(e)}}(t,n)}}function x(e){return e&&1===e.nodeType&&s(e)}function S(e){let t={};return e.forEach((e=>{let n=x(e);n&&(t[n]=e)})),t}function g(t,n){if(!r(m,t)){let o=t.cloneNode(!0);return e(n).append(o),w(o),o}return null}function _(t,n){if(!r(m,t)){let o=t.cloneNode(!0);return e(n).before(o),w(o),o}return n}return function(e={}){let t=()=>{};f=e.updating||t,p=e.updated||t,d=e.removing||t,h=e.removed||t,m=e.adding||t,w=e.added||t,s=e.key||(e=>e.getAttribute("key")),u=e.lookahead||!1,y=e.debug||!1}(a),l=o,c=function(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstElementChild}(i),window.Alpine&&window.Alpine.closestDataStack&&!o._x_dataStack&&(c._x_dataStack=window.Alpine.closestDataStack(o),c._x_dataStack&&window.Alpine.clone(o,c)),await b(),await v(o,c),l=void 0,c=void 0,o}function r(e,...t){let n=!1;return e(...t,(()=>n=!0)),n}o.step=()=>t(),o.log=e=>{n=e};var i=function(e){e.morph=o};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}document.addEventListener("alpine:init",(function(e){window.Alpine.plugin(i),window.Alpine.magic("morph",(function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.closest("[data-morph-component-name]"),r=o.dataset.morphComponentName;n.onStart&&"function"==typeof n.onStart&&n.onStart();var i={};"object"===s(t)&&"morph"===(null==t?void 0:t.type)?Object.assign(i,t.detail):"string"==typeof t?i[t]=t:Object.assign(i,t);var a=new FormData;Object.keys(i).forEach((function(e){var t=i[e];t instanceof FileList&&Array.from(t).forEach((function(t){a.append("".concat(e,"[]"),t)})),a.append(e,t)})),fetch("".concat(BB_MORPH.base_url).concat(r,"/"),{method:"POST",credentials:"same-origin",headers:{"X-Morph-Request":!0,"X-Morph-Hash":window.BB_MORPH.hash},body:a}).then((function(e){if(n.onResponse&&"function"==typeof n.onResponse&&n.onResponse(e),!e.ok)throw new Error(e.statusText);return e.text()})).then((function(e){if(window.Alpine.morph(o,e),n.emit&&"boolean"==typeof n.emit){var i={bubbles:!0,detail:l({component:r},t)},a=new CustomEvent("morph",i),c=new CustomEvent("morph:emit",i);document.dispatchEvent(a),document.dispatchEvent(c)}n.onSuccess&&"function"==typeof n.onSuccess&&n.onSuccess(t)})).catch((function(e){n.onError&&"function"==typeof n.onError&&n.onError(e)})).finally((function(){n.onFinish&&"function"==typeof n.onFinish&&n.onFinish()}))}}))}))})();